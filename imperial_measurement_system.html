<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Imperial Measurements Converter: Baines Services</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://github.com/cuthbert86/cuthbert86.github.io/blob/main/bootstrap.css">
    <link rel="stylesheet" href="https://github.com/cuthbert86/cuthbert86.github.io/blob/main/styles.css">

    <style>
        body {
            background: #e6e5e5;
            font-family: 'Lato', 'Arial', 'sans-serif';
            margin: 0;
            padding: 0;
            color:blueviolet
        }
        .container {
            max-width: 700px;
            margin: 30px auto;
            background: #fff;
            padding: 28px 36px;
            border-radius: 15px;
            box-shadow: 0 2px 10px #0001;
        }
        h1 {
            text-align: center;
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 30px;
            color: #212121;
        }
        label {
            font-weight: bold;
            font-size: 1.15em;
            margin-top: 22px;
            display: block;
        }
        input, select {
            font-size: 1em;
            padding: 8px;
            width: 70%;
            margin: 6px 0 20px 0;
            border: 1px solid #aaa;
            border-radius: 5px;
        }
        .row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .row label, .row input, .row select {
            width: 47%;
        }
        .buttons {
            text-align: center;
            margin: 23px 0 10px 0;
        }
        .buttons button {
            background: #42a5f5;
            color: #fff;
            font-size: 1.1em;
            font-weight: bold;
            border: none;
            padding: 12px 28px;
            border-radius: 6px;
            margin: 0 14px;
            cursor: pointer;
            transition: background 0.16s;
        }
        .buttons button:hover {
            background: #215ba6;
        }
        @media (max-width: 799px) {
            .container { width: 97%; min-width: unset; }
            .row { flex-direction: column; }
            .row label, .row input, .row select { width: 100%; }
        }
        .dropdown button {
            background: #262626;
            color: #4da3ff;
            border: 1px solid #333;
            padding: 10px 15px;
            font-size: 1rem;
            border-radius: 8px;
            cursor: pointer;
        }

        .dropdown-content {
            background: #1a1a1a;
            border: 1px solid #333;
            }
        .dropdown {
            position: relative;
            display: inline-block;
            margin-bottom: 20px;
            }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #1a1a1a;
            min-width: 180px;
            z-index: 1000;
            border-radius: 8px;
            padding: 8px 0;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            }

        .dropdown-content a {
            color: #4da3ff;
            padding: 10px 15px;
            text-decoration: none;
            display: block;
            }

        .dropdown-content a:hover {
            background-color: #333;
            }

        .show {
            display: block;
            }

    </style>
</head>
<body class="bg-secondary text-white">
    <div class="container-fluid p-3 mb-2 bg-info text-dark border border-warning">
        <h1>Imperial Measurements Converter: Baines Services</h1>
        <div class="dropdown">
    <button onclick="toggleDropdown()">More Tools ▼</button>
    <div id="dropdown-content" class="dropdown-content">
        <a href="#">Length Converter</a>
        <a href="#">Weight Converter</a>
        <a href="#">Temperature Converter</a>
    </div>
    </div>
        <div class="row justify-content-md-center">
            <label for="amount1">Amount:</label>
            <input type="number" id="amount1" min="0" placeholder="Enter amount">
        </div>
    <div class="row">
        <label for="unitFrom">From Unit:</label>
        <select id="unitFrom" class="form-select"></select>
    </div>
    <div class="row">
        <label for="unitTo">To Unit:</label>
        <select id="unitTo" class="form-select"></select>
    </div>
        <div class="row justify-content-md-center">
            <label for="amount2">Converted Amount:</label>
            <input type="text" id="amount2" disabled>
        </div>
        <div class="buttons btn btn-dark">
            <button id="convertBtn">Convert</button>
            <button id="clearBtn" style="background:#888;">Clear All</button>
        </div>
    </div>
    
<script>
const units = {
    Barleycorn:  { base: 1,    B: 1,      In: 3,      F: 36,      Y: 108,     C: 2376,    Fu: 23760,   M: 190080 },
    Inch:        { base: 3,    B: 3,      In: 1,      F: 12,      Y: 36,      C: 792,     Fu: 7920,    M: 63360  },
    Foot:        { base: 36,   B: 36,     In: 12,     F: 1,       Y: 3,       C: 66,      Fu: 660,     M: 5280   },
    Yard:        { base: 108,  B: 108,    In: 36,     F: 3,       Y: 1,       C: 22,      Fu: 220,     M: 1760   },
    Chain:       { base: 2376, B: 2376,   In: 108,    F: 66,      Y: 22,      C: 1,       Fu: 10,      M: 80     },
    Furlong:     { base: 23760,B: 23760,  In: 7920,   F: 660,     Y: 220,     C: 10,      Fu: 1,       M: 8      },
    Mile:        { base: 190080,B:190080, In: 63360,  F: 5280,    Y: 1760,    C: 80,      Fu: 8,       M: 1      }
};

const unitNames = Object.keys(units);
const unitSymbols = {Barleycorn:"B", Inch:"In", Foot:"F", Yard:"Y", Chain:"C", Furlong:"Fu", Mile:"M"};

function populateSelect(selectId) {
    const select = document.getElementById(selectId);
    select.innerHTML = '';
    unitNames.forEach(u => {
        const option = document.createElement('option');
        option.value = u;
        option.text = u;
        select.appendChild(option);
    });
}

populateSelect("unit1");
populateSelect("unit2");
document.getElementById('unit1').selectedIndex = 0;
document.getElementById('unit2').selectedIndex = 1;

function convertUnits() {
    const amountRaw = document.getElementById("amount1").value;
    const from = document.getElementById("unit1").value;
    const to = document.getElementById("unit2").value;
    const amount = parseFloat(amountRaw);

    if (isNaN(amount) || amount < 0) {
        window.alert("Please enter a valid non-negative number.");
        document.getElementById("amount2").value = "";
        return;
    }
    // Conversion: convert input amount to "Barleycorns" (base), then to target unit
    let result = amount * units[from].base;
    let toB = units[to].B;

    // Match the original Python's way
    // (note: you only need to divide by toB, but the original python allowed other pathways, so let's preserve the logic)
    let newResult = null;
    if (to === "Barleycorn")      newResult = result / units[to].B;
    else if (to === "Inch")       newResult = result / units[to].In;
    else if (to === "Foot")       newResult = result / units[to].F;
    else if (to === "Yard")       newResult = result / units[to].Y;
    else if (to === "Chain")      newResult = result / units[to].C;
    else if (to === "Furlong")    newResult = result / units[to].Fu;
    else if (to === "Mile")       newResult = result / units[to].M;
    else                          newResult = result / toB;

    document.getElementById("amount2").value = newResult;
}

function clearAll() {
    document.getElementById("amount1").value = "";
    document.getElementById("amount2").value = "";
    document.getElementById('unit1').selectedIndex = 0;
    document.getElementById('unit2').selectedIndex = 1;
}

document.getElementById("convertBtn").addEventListener("click", convertUnits);
document.getElementById("clearBtn").addEventListener("click", clearAll);

function toggleDropdown() {
    document.getElementById("dropdown-content").classList.toggle("show");
}

// Close dropdown when clicking outside
window.onclick = function(event) {
    if (!event.target.matches('.dropdown button')) {
        const content = document.getElementById("dropdown-content");
        if (content.classList.contains('show')) {
            content.classList.remove('show');
        }
    }
}
// Define units for each category
const unitsByCategory = {
    length: ["Barleycorn", "Inch", "Foot", "Yard", "Chain", "Furlong", "Mile"],
//    weight: ["Ounce", "Pound", "Stone", "Ton"],
//    volume: ["Teaspoon", "Tablespoon", "Fluid Ounce", "Cup", "Pint", "Gallon"],
//    temperature: ["Celsius", "Fahrenheit", "Kelvin"]
};

// Populate category dropdown
function toggleCategoryDropdown() {
    document.getElementById("categoryDropdown").classList.toggle("show");
}

document.querySelectorAll('#categoryDropdown a').forEach(item => {
    item.addEventListener('click', function() {
        const category = this.getAttribute('data-category');
        document.getElementById("categoryButton").textContent = this.textContent + " ▼";
        document.getElementById("categoryDropdown").classList.remove("show");

        populateUnitDropdowns(category);
    });
});

// Populate From/To unit dropdowns based on category
function populateUnitDropdowns(category) {
    const fromSelect = document.getElementById("unitFrom");
    const toSelect = document.getElementById("unitTo");

    fromSelect.innerHTML = "";
    toSelect.innerHTML = "";

    unitsByCategory[category].forEach(unit => {
        const optionFrom = document.createElement("option");
        optionFrom.value = unit;
        optionFrom.textContent = unit;
        fromSelect.appendChild(optionFrom);

        const optionTo = document.createElement("option");
        optionTo.value = unit;
        optionTo.textContent = unit;
        toSelect.appendChild(optionTo);
    });

    // Optional: select first options by default
    fromSelect.selectedIndex = 0;
    toSelect.selectedIndex = 1;
}

// Close dropdown if clicking outside
window.onclick = function(event) {
    if (!event.target.matches('#categoryButton')) {
        const dd = document.getElementById("categoryDropdown");
        if (dd.classList.contains('show')) dd.classList.remove('show');
    }
}

// Initialize with Length category
populateUnitDropdowns("length");
</script>
</body>
</html>

